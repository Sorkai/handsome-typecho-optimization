/**
 * @description typecho后台编辑器插入的js
 * @author ihewro Sun个性(http://blog.acef.tk)
 * @version 5.1.1
 */

window.onload = function () {
    /* 样式栏 */
    $(document).ready(function(){
        if ($("#wmd-button-row").length >0){
            /*1. 按钮插入*/
            $('#wmd-button-row').append(
                '<li class="wmd-button" id="wmd-t-button" style="" title="文字样式自定义"><img' +
                ' src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTgxMzE0NzU2IiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTY0MDAiPjxwYXRoIGQ9Ik0yMDIuMzMyMTYgNTQ3Ljc3ODU2aDIxNS4xODMzNmw1Ny42NTEyIDE3Ny42NDM1Mmg4MC42OTEyTDM1Mi4xODQzMiAxNDMuMzZoLTgwLjY5MTJMNzEuNjggNzI1LjQyMjA4aDc2Ljg1MTJsNTMuODAwOTYtMTc3LjY0MzUyeiBtNTEuNDA0OC0xNDQuNDM1MmMxOS4zNTM2LTY1Ljk2NjA4IDM4LjcyNzY4LTEzMS45MzIxNiA1OC4wOTE1Mi0yMDEuNzc5MmgzLjg3MDcyYzE5LjM3NDA4IDY5Ljg0NzA0IDM4LjczNzkyIDEzNS44MTMxMiA1OC4xMDE3NiAyMDEuNzc5MmwyNy4xMTU1MiA4OS4yNTE4NEgyMjYuNjExMmwyNy4xMTU1Mi04OS4yNTE4NHogbTM2MC4yMjI3MiAyMDIuMDc2MTZjMCA3OC43NDU2IDU0LjIyMDggMTIwLjAxMjggMTI3LjgxNTY4IDEyMC4wMTI4IDU0LjIzMTA0IDAgMTA0LjU4MTEyLTI2LjI1NTM2IDE0Ny4xODk3Ni02MC4wMDY0aDMuODcwNzJsNy43NTE2OCA1Mi41MDA0OEg5NjIuNTZWNDU1LjQyNGMwLTEwNS4wMDA5Ni00Ni40ODk2LTE3Ni4yNTA4OC0xNTEuMDYwNDgtMTc2LjI1MDg4LTY5LjcyNDE2IDAtMTMxLjY5NjY0IDMwLjAwMzItMTc0LjMwNTI4IDU2LjI0ODMybDMwLjk4NjI0IDQ4Ljc1MjY0YzM0Ljg2NzItMjIuNDk3MjggODEuMzQ2NTYtNDQuOTk0NTYgMTMxLjY5NjY0LTQ0Ljk5NDU2IDczLjU5NDg4IDAgODkuMDg4IDUyLjQ5MDI0IDg5LjA4OCAxMDguNzQ4OC0xOTMuNjY5MTIgMTguNzM5Mi0yNzUuMDA1NDQgNjcuNDkxODQtMjc1LjAwNTQ0IDE1Ny40OTEyeiBtMjcxLjEzNDcyLTExMi44MjQzMnYxMTguODg2NGMtNDEuNzc5MiAzNy4xNjA5Ni03NS45NTAwOCA1NS43MzYzMi0xMTcuNzE5MDQgNTUuNzM2MzItNDEuNzc5MiAwLTc1Ljk1MDA4LTE4LjU3NTM2LTc1Ljk1MDA4LTY2Ljg2NzIgMC01NS43MzYzMiA0OS4zNTY4LTg5LjE4MDE2IDE5My42NjkxMi0xMDcuNzU1NTJ6TTExMC40NzkzNiA4MDMuMDMxMDRoODEzLjI4MTI4YTM4LjgwOTYgMzguODA5NiAwIDAgMSAwIDc3LjYwODk2SDExMC40NzkzNmEzOC44MDk2IDM4LjgwOTYgMCAwIDEgMC03Ny42MDg5NnoiIGZpbGw9IiM4YThhOGEiIHAtaWQ9IjE2NDAxIi8+PC9zdmc+"/></li>'+
                '<li class="wmd-button OwO" style="" title="插入表情"></li>' +
                '<li class="wmd-button" id="wmd-hplayer-button" style="" title="插入音乐"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMi41IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJjc3MtaTZkenExIj48cGF0aCBkPSJNMyAxOHYtNmE5IDkgMCAwIDEgMTggMHY2Ii8+PHBhdGggZD0iTTIxIDE5YTIgMiAwIDAgMS0yIDJoLTFhMiAyIDAgMCAxLTItMnYtM2EyIDIgMCAwIDEgMi0yaDN6TTMgMTlhMiAyIDAgMCAwIDIgMmgxYTIgMiAwIDAgMCAyLTJ2LTNhMiAyIDAgMCAwLTItMkgzeiIvPjwvc3ZnPg=="/></li>' +
                '<li class="wmd-button" id="wmd-video-button" style="" title="插入视频"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMi41IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJjc3MtaTZkenExIj48cG9seWdvbiBwb2ludHM9IjIzIDcgMTYgMTIgMjMgMTcgMjMgNyIvPjxyZWN0IHg9IjEiIHk9IjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNCIgcng9IjIiIHJ5PSIyIi8+PC9zdmc+"/></li>' +
                '<li class="wmd-button" id="wmd-post-button" style="" title="调用其他文章"><img src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTgwOTkxNTYzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTU1MDciPjxwYXRoIGQ9Ik04MDUuMjAyIDMzLjI4SDIxOC43OThjLTgwLjg0IDAtMTQ2LjYgNjUuNjU0LTE0Ni42IDE0Ni4yNzh2Njc1LjEwM2MwIDgwLjY2NiA2NS43NiAxNDYuMjk5IDE0Ni42IDE0Ni4yOTloNTg2LjQwNGM4MC44NCAwIDE0Ni42LTY1LjYzMyAxNDYuNi0xNDYuMjk5VjE3OS41NThjLTAuMDA0LTgwLjYyNC02NS43Ni0xNDYuMjc4LTE0Ni42LTE0Ni4yNzh6TTI3Mi44MzUgMjYxLjE2Nkg1MjUuNjZjMTguNjc4IDAgMzMuODAyIDE1LjEyIDMzLjgwMiAzMy43ODcgMCAxOC42MjEtMTUuMTE5IDMzLjc0LTMzLjgwMiAzMy43NEgyNzIuODM1Yy0xOC42ODMgMC0zMy44MDgtMTUuMTE5LTMzLjgwOC0zMy43NCAwLTE4LjY2OCAxNS4xMi0zMy43ODcgMzMuODA4LTMzLjc4N3ogbTQ3OC4zMjUgNTExLjk3SDI3Mi44MzVjLTE4LjY4MyAwLTMzLjgwOC0xNS4xNjYtMzMuODA4LTMzLjgwOCAwLTE4LjY0NyAxNS4xMi0zMy43NjEgMzMuODA4LTMzLjc2MUg3NTEuMTZjMTguNjg4IDAgMzMuODkgMTUuMTE0IDMzLjg5IDMzLjc2MSAwIDE4LjY0Mi0xNS4yMDIgMzMuODA3LTMzLjg5IDMzLjgwN3ogbTAtMjIyLjI0NEgyNzIuODM1Yy0xOC42ODMgMC0zMy44MDgtMTUuMDc0LTMzLjgwOC0zMy43NjIgMC0xOC42NDIgMTUuMTItMzMuNzYxIDMzLjgwOC0zMy43NjFINzUxLjE2YzE4LjY4OCAwIDMzLjg5IDE1LjEyIDMzLjg5IDMzLjc2MSAwIDE4LjY4My0xNS4yMDIgMzMuNzYyLTMzLjg5IDMzLjc2MnoiIHAtaWQ9IjE1NTA4IiBmaWxsPSIjOGE4YThhIi8+PC9zdmc+"/></li>'+
                '<li class="wmd-button" id="wmd-button-button" style="" title="插入按钮"><img src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MzgyMDM1MzcxIiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxLjEyNWVtOyBoZWlnaHQ6IDFlbTt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO2ZpbGw6IGN1cnJlbnRDb2xvcjtvdmVyZmxvdzogaGlkZGVuOyIgdmlld0JveD0iMCAwIDExNTIgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijk5MjIiPjxwYXRoIGQ9Ik03Ni44IDc2LjhoOTk4LjR2MjU2SDc2OHY3Ni44aDM4NFYwSDB2NDA5LjZoMjgxLjZ2LTc2LjhINzYuOHpNOTUzLjEzOTIgODkxLjI2NGMxNS42MTYgMCAyOC44LTIxLjQ3ODQgMjguOC00Ni44OTkydi0xODcuNjIyNGMwLTI1LjQyMDgtMTMuMjA5Ni00Ni44OTkyLTI4LjgtNDYuODk5Mkg2MzYuMzM5MmMtMjEuMTk2OCAwLTM4LjQtMjAuOTkyLTM4LjQtNDYuODk5MnMxNy4yMDMyLTQ2Ljg5OTIgMzguNC00Ni44OTkyaDMxNi44YzU4LjIxNDQgMCAxMDUuNiA2My4xMjk2IDEwNS42IDE0MC42OTc2djE4Ny42MjI0YzAgNzcuNTY4LTQ3LjM2IDE0MC43MjMyLTEwNS42IDE0MC43MjMyYTUxLjAyMDggNTEuMDIwOCAwIDAgMS02Ljg4NjQtODkuMzQ0bDYuOTEyLTQuNDh6IiBwLWlkPSI5OTIzIiBmaWxsPSIjOGE4YThhIi8+PHBhdGggZD0iTTQyMS4xNzEyIDY1My4zMzc2bC0yLjQzMi0zODIuMjg0OGMwLTc2LjY0NjQgNjAuNTY5Ni0xMzkuMDA4IDEzNS4wMTQ0LTEzOS4wMDhzMTM1LjAxNDQgNjIuMzYxNiAxMzUuMDE0NCAxMzkuMDA4TDY5MS4yIDU2My4yYzAgMjUuOTA3Mi0yMC4xNDcyIDQ2Ljg5OTItNDUuMDA0OCA0Ni44OTkyLTI0LjgzMiAwLTQ1LjAwNDgtMjAuOTkyLTQ1LjAwNDgtNDYuODk5MmwtMi40MzItMjkyLjE0NzJjMC0yNC45Ni0yMC4xNzI4LTQ1LjIwOTYtNDUuMDA0OC00NS4yMDk2cy00NS4wMDQ4IDIwLjI0OTYtNDUuMDA0OCA0NS4yMDk2bDIuNDMyIDM4Mi4yMDhjMC4wMjU2IDEyLjQ0MTYtNC43MTA0IDI0LjM5NjgtMTMuMTU4NCAzMy4yMjg4LTguNDQ4IDguODA2NC0xOS44OTEyIDEzLjc3MjgtMzEuODQ2NCAxMy43NzI4LTI0LjgzMiAwLTQ1LjAwNDgtMjAuOTkyLTQ1LjAwNDgtNDYuOTI0OHoiIHAtaWQ9Ijk5MjQiIGZpbGw9IiM4YThhOGEiLz48cGF0aCBkPSJNNDM5LjU1MiA5OTMuMjAzMkwyMjYuMDk5MiA3NTQuMTc2Yy01MC45NDQtNTIuOTkyLTUwLjQwNjQtMTQxLjgyNCAyLjI1MjgtMTk2LjcxMDQgNTIuMTQ3Mi01NC43ODQgMTM2Ljk2LTU1LjI5NiAxODkuNzQ3Mi0xLjIwMzJsODAuNzE2OCA4NC4xMjE2YTQ4LjMzMjggNDguMzMyOCAwIDAgMS0wLjUzNzYgNjUuNzY2NCA0My43MjQ4IDQzLjcyNDggMCAwIDEtNjMuMDc4NCAwLjU2MzJsLTgwLjY0LTg0LjA0NDhhNDMuMTg3MiA0My4xODcyIDAgMCAwLTYyLjU2NjQgMS4xMjY0IDQ3Ljc0NCA0Ny43NDQgMCAwIDAtMS4wNzUyIDY1LjI4bDIxNC41NzkyIDI0MC4yNTZjMTIuMTYgMTMuNjcwNCAxNS4zODU2IDMzLjUzNiA4LjI0MzIgNTAuNjM2OC03LjE0MjQgMTcuMDc1Mi0yMy4yOTYgMjguMTYtNDEuMjE2IDI4LjE2LTEyLjQ2NzIgMC0yNC4zOTY4LTUuMzc2LTMyLjkyMTYtMTQuOTI0OHoiIHAtaWQ9Ijk5MjUiIGZpbGw9IiM4YThhOGEiLz48L3N2Zz4="/></li>'+
                '<li class="wmd-button" id="wmd-text-button" style="" title="插入高亮文本"><img src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTc4NzI5Mjg2IiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTE5MjMiPjxwYXRoIGQ9Ik0zNTIuNyA1MjQuNWgxMTQuOHYzMDYuMUgxNjEuNFY1OTljMC0yNTMgMTAyLTM4OC41IDMwNi4xLTQwNi40djExNC44Yy03Ni41IDIxLjQtMTE0LjggODIuNy0xMTQuOCAxODQuMXYzM3ogbTM5NS4yIDBoMTE0Ljh2MzA2LjFINTU2LjVWNTk5YzAtMjUzIDEwMi0zODguNSAzMDYuMS00MDYuNHYxMTQuOGMtNzYuNSAyMS40LTExNC44IDgyLjctMTE0LjggMTg0LjF2MzN6IiBwLWlkPSIxMTkyNCIgZmlsbD0iIzhhOGE4YSIvPjwvc3ZnPg=="/></li>'+
                '<li class="wmd-button" id="wmd-ss-button" style="" title="插入收缩框"><img src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTc5MDAyMTkxIiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTMzODciPjxwYXRoIGQ9Ik01MTIgNzUyLjEyOCAxMDIuMjcyIDQ0Ni40NjQgMjUuNzI4IDU0OS4xMiA1MTIgOTExLjg3MiA5OTguMjcyIDU0OS4xMiA5MjEuNzI4IDQ0Ni40NjRaIiBwLWlkPSIxMzM4OCIgZmlsbD0iIzhhOGE4YSIvPjxwYXRoIGQ9Ik0wIDE5MmwxMDI0IDAgMCAxMjgtMTAyNCAwIDAtMTI4WiIgcC1pZD0iMTMzODkiIGZpbGw9IiM4YThhOGEiLz48L3N2Zz4="/></li>'+
                '<li class="wmd-button" id="wmd-yc1-button" style="" title="插入隐藏内容（评论可见）"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMi41IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJjc3MtaTZkenExIj48cGF0aCBkPSJNMTcuOTQgMTcuOTRBMTAuMDcgMTAuMDcgMCAwIDEgMTIgMjBjLTcgMC0xMS04LTExLThhMTguNDUgMTguNDUgMCAwIDEgNS4wNi01Ljk0TTkuOSA0LjI0QTkuMTIgOS4xMiAwIDAgMSAxMiA0YzcgMCAxMSA4IDExIDhhMTguNSAxOC41IDAgMCAxLTIuMTYgMy4xOW0tNi43Mi0xLjA3YTMgMyAwIDEgMS00LjI0LTQuMjQiLz48bGluZSB4MT0iMSIgeTE9IjEiIHgyPSIyMyIgeTI9IjIzIi8+PC9zdmc+"/></li>'+
                '<li class="wmd-button" id="wmd-yc2-button" style="" title="插入隐藏内容（登陆可见）"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMi41IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJjc3MtaTZkenExIj48cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg1YTQgNCAwIDAgMC00IDR2MiIvPjxjaXJjbGUgY3g9IjguNSIgY3k9IjciIHI9IjQiLz48cG9seWxpbmUgcG9pbnRzPSIxNyAxMSAxOSAxMyAyMyA5Ii8+PC9zdmc+"/></li>'+
                '<li class="wmd-button" id="wmd-tab-button" style="" title="插入tab"><img' +
                ' src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTg0NjUwMjkyIiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTkyNDQiPjxwYXRoIGQ9Ik02MzEuMTE2MzM1IDAuNDE5ODM2SDM5Mi40ODM0OTNjLTE0LjkxNDA1MyAwLTI1LjU3MzgwMiAxMi43ODY5MDEtMjUuNTczODAyIDI3LjcwMDk1NHY1My4yNjY3NTljMCAxNC45MTQwNTMgMTIuNzk0ODk4IDI3LjcwMDk1NCAyNS41NzM4MDIgMjcuNzAwOTU0aDIzOC42MjQ4NDVjMTQuOTE0MDUzIDAgMjUuNTczODAyLTEyLjc4NjkwMSAyNS41NzM4MDItMjcuNzAwOTU0VjI4LjEyMDc5QzY1OC44MTcyODkgMTMuMTk4NzQgNjQ2LjAzMDM4OCAwLjQxOTgzNiA2MzEuMTA4MzM4IDAuNDE5ODM2eiBtMzY0LjM1ODcwOCAwSDc1Ni44MzQyMDRjLTE0LjkxNDA1MyAwLTI3LjcwMDk1NCAxMi43ODY5MDEtMjcuNzAwOTU0IDI3LjcwMDk1NHY1My4yNjY3NTljMCAxNC45MTQwNTMgMTIuNzg2OTAxIDI3LjcwMDk1NCAyNy43MDA5NTQgMjcuNzAwOTU0aDIzOC42NDA4MzljMTQuOTE0MDUzLTIuMTI3MTUyIDI3LjcwMDk1NC0xMi43ODY5MDEgMjcuNzAwOTU0LTI3LjcwMDk1NFYyOC4xMjA3OWMwLTE0LjkxNDA1My0xMi43ODY5MDEtMjcuNzAwOTU0LTI3LjcwMDk1NC0yNy43MDA5NTR6IG0wIDE3OC45ODQ2MjhIMzIwLjAzMjM4M2MtMTQuOTIyMDUgMC0yNy43MDA5NTQtMTIuNzg2OTAxLTI3LjcwMDk1NC0yNy43MDA5NTRWMjguMTIwNzljMC0xNC45MTQwNTMtMTIuNzg2OTAxLTI3LjcwMDk1NC0yNy43MDA5NTMtMjcuNzAwOTU0SDI4LjExNjc4OEMxMy4xOTQ3MzggMC40MTk4MzYgMC40MTU4MzQgMTMuMjA2NzM3IDAuNDE1ODM0IDI4LjEyMDc5Vjk5Ny42MDYxOTZjMCAxMi43Nzg5MDQgMTIuNzg2OTAxIDI1LjU2NTgwNSAyNy43MDA5NTQgMjUuNTY1ODA2aDk2Ny4zNTgyNTVjMTQuOTE0MDUzIDAgMjcuNzAwOTU0LTEyLjc4NjkwMSAyNy43MDA5NTQtMjcuNzAwOTU0VjIwNy4xMDU0MThjMC0xNC45MTQwNTMtMTIuNzg2OTAxLTI3LjcwMDk1NC0yNy43MDA5NTQtMjcuNzAwOTU0eiIgcC1pZD0iMTkyNDUiIGZpbGw9IiM4YThhOGEiLz48L3N2Zz4="/></li>'+
                '<li class="wmd-button" id="wmd-album-button" style="" title="插入相册"><img' +
                ' src="data:image/svg+xml;base64,PHN2ZyB0PSIxNTc1MTg0ODcyMzEzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjAyMjciPjxwYXRoIGQ9Ik04MjIuMjgyMjQgMjE2LjI5NDRIODAuNjg2MDhjLTQxLjM0OTEyIDAtNzMuNzA3NTIgMjQuMzItNzMuNzA3NTIgNTUuMzUyMzJ2NTgwLjc5NzQ0YzAgMzEuODA1NDQgMzMuMDY0OTYgNTcuNjg3MDQgNzMuNzA3NTIgNTcuNjg3MDRoNzQ3LjM2NjRjMzkuNzM2MzIgMCA3MC44ODEyOC0yNS4zNDQgNzAuODgxMjgtNTcuNjg3MDRWMjcxLjY0NjcyYy0wLjAwNTEyLTMwLjUxNTItMzQuMzcwNTYtNTUuMzUyMzItNzYuNjUxNTItNTUuMzUyMzJ6IG0tNTIyLjc1MiAxMjguMDk3MjhjNDAuNjQyNTYgMCA3My42NzE2OCAzMy4xMjEyOCA3My42NzE2OCA3My44NDU3NmE3My4wOTMxMiA3My4wOTMxMiAwIDAgMS0yMS40Nzg0IDUyLjE0NzIgNzMuMTQ5NDQgNzMuMTQ5NDQgMCAwIDEtNTIuMTg4MTYgMjEuNjQyMjRjLTQwLjY0MjU2IDAtNzMuNzA3NTItMzMuMTA1OTItNzMuNzA3NTItNzMuNzg5NDQtMC4wMDUxMi00MC43Mjk2IDMzLjA1OTg0LTczLjg0NTc2IDczLjcwMjQtNzMuODQ1NzZ6IG00NTcuNjUxMiA0ODUuNTM0NzJIMTUxLjEzNzI4Yy0yMi42MzA0IDAtMjguMTA4OC0xMy41MjcwNC0xMi41NDQtMjkuODg1NDRsMTMwLjM0NDk2LTEzNy4wMzE2OGMxNS43MDMwNC0xNi41MDE3NiA0My41NzEyLTE5LjIgNjIuNDIzMDQtNS44OTMxMmw5Ni4wNTYzMiA2Ny43OTkwNGMxOC43Njk5MiAxMy4yNDU0NCA0NS43OTMyOCA5LjY2NjU2IDYwLjMzOTItNy45NjY3MmwyMjIuMTA1Ni0yNjkuMjYwOGMxNC41NTEwNC0xNy42NDM1MiAyOS4wOTE4NC0xMy42MTQwOCAzMi40MDQ0OCA4LjUyNDhsNDkuODQzMiAzMzMuMjQwMzJjMy4zMzMxMiAyMi4zNjQxNi0xMi4zNDk0NCA0MC40NzM2LTM0LjkyODY0IDQwLjQ3MzZ6IiBwLWlkPSIyMDIyOCIgZmlsbD0iIzhhOGE4YSIvPjxwYXRoIGQ9Ik05NDQuNDMwMDggMTExLjQ5MzEySDIwMi44MzM5MmMtNDEuMzQ0IDAtNzMuNzA3NTIgMjQuMzE0ODgtNzMuNzA3NTIgNTUuMzUyMzJ2MTUuMzI5MjhoNzMwLjE0MjcyYzQyLjI5MTIgMCA3Ni42NTY2NCAyNC44NDIyNCA3Ni42NTY2NCA1NS4zNTIzMnY1NjcuODAyODhoMTQuMjc0NTZjMzkuNzM2MzIgMCA3MC44ODEyOC0yNS4zNDQgNzAuODgxMjgtNTcuNjkyMTZWMTY2Ljg0NTQ0YzAtMzAuNTE1Mi0zNC4zNjAzMi01NS4zNTIzMi03Ni42NTE1Mi01NS4zNTIzMnoiIHAtaWQ9IjIwMjI5IiBmaWxsPSIjOGE4YThhIi8+PC9zdmc+"/></li>'
                +


                '<style>' +
                '.wmd-button-row{height: 100%!important;}</style>');

            /*2. 点击按钮的弹出框*/
            // $('#text').before('<div class="wmd-button OwO" style="" title="插入表情"></div>');

            var owo = new OwO({
                logo: '表情',
                container: document.getElementsByClassName('OwO')[0],
                target: document.getElementById('text'),
                api: themeUrl + 'usr/OwO.json',
                position: 'down',
                width: '100%',
                maxHeight: '220px'
            });


            $(document).on('click', '#wmd-t-button', function() {

                $('body').append(
                    '<div id="TPanel">'+
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>文字样式自定义</b></p>'+
                    '<p>相关问题：<a href="https://handsome.ihewro.com/#/common-problem?id=typecho11%e7%89%88%e6%9c%ac%e7%bc%96%e8%be%91%e5%99%a8%e6%97%a0%e6%b3%95%e8%a7%a3%e6%9e%90html%e4%bb%a3%e7%a0%81" target="_blank">无法解析HTML代码</a> </p>'+
                    '<p><labe>输入文字颜色</labe><input name="color"' +
                    ' type="text" placeholder="选填（如 #ffffff 、red）"></input></p><p><label>是否居中</label><input' +
                    ' type="checkbox"' +
                    ' id="isCenter"></input></p><p><labe>输入文字内容</labe><textarea type="text"/></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="t_ok">确定</button>'+
                    '<button type="button" class="btn btn-s" id="t_cancel">取消</button>'+
                    '</form>'+
                    '</div>'+
                    '</div>');

            });


            $(document).on('click', '#wmd-hplayer-button', function() {

                $('body').append(
                    '<div id="MetingPanel">'+
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>插入音乐</b></p>'+
                    '<p>请在下方的输入框内输入要插入的音乐地址 <p style="color: #ff0012">支持云解析歌曲地址和本地歌曲资源，不支持歌单地址</p> <a target="_blank" href="https://handsome.ihewro.com/#/functions?id=%e6%96%87%e7%ab%a0%e5%86%85%e6%8f%92%e5%85%a5%e9%9f%b3%e4%b9%90">使用文档</a>'+
                    '<p><labe>输入音乐地址</labe><input type="text"></input><label style="display: none">是否自动播放</label><input' +
                    ' type="checkbox" id="autoplay" style="display: none"></input></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="hplayer_ok">确定</button>'+
                    '<button type="button" class="btn btn-s" id="hplayer_cancel">取消</button>'+
                    '</form>'+
                    '</div>'+
                    '</div>');
                $('.wmd-prompt-dialog input').val('http://').select();

            });


            $(document).on('click', '#wmd-post-button', function() {

                $('body').append(
                    '<div id="postPanel">'+
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>调用其他文章</b></p><p>你可以在当前文章中调用另一篇文章，达到文章之间的交流体验。<a target="_blank" href="https://handsome.ihewro.com/#/functions?id=%e6%96%87%e7%ab%a0%e5%86%85%e8%b0%83%e7%94%a8%e5%85%b6%e4%bb%96%e6%96%87%e7%ab%a0">使用文档</a></p>'+
                    '<labe>输入文章cid</labe><input type="text" name="cid" placeholder="必填"></input></p>'+
                    '<labe>输入文章封面</labe><input type="text" name="cover" placeholder="可选填，不填默认为随机缩略图"></input></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="post_ok">确定</button>'+
                    '<button type="button" class="btn btn-s" id="post_cancel">取消</button>'+
                    '</form>'+
                    '</div>'+
                    '</div>');
            });

            $(document).on('click', '#wmd-video-button', function() {

                $('body').append(
                    '<div id="videoPanel">'+
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>插入视频</b></p>'+
                    '<p>可以向文章中插入一个简约美观的视频播放器<a target="_blank" href="https://handsome.ihewro.com/#/functions?id=%e6%96%87%e7%ab%a0%e5%86%85%e6%8f%92%e5%85%a5%e8%a7%86%e9%a2%91">使用文档</a></p>'+
                    '<labe>输入视频地址</labe><input type="text" name="url"' +
                    ' placeholder="必填，不支持云解析（比如xxx.com/xxx.mp4）"></input>'+
                    '<labe>输入视频封面</labe><input type="text" name="pic" placeholder="选填，不填则显示主题内置的一张背景图片"></input></input>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="video_ok">确定</button>'+
                    '<button type="button" class="btn btn-s" id="video_cancel">取消</button>'+
                    '</form>'+
                    '</div>'+
                    '</div>');
                $('.wmd-prompt-dialog input').select();
            });

            $(document).on('click', '#wmd-button-button', function() {//按钮

                $('body').append(
                    '<div id="buttonPanel">'+//按钮
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>插入按钮</b></p>'+
                    '<p>基本</p>'+
                    '<p><input type="text" name="te" placeholder="按钮文字"></input><input type="text" name="url"' +
                    ' placeholder="点击链接"></input></p>' +
                    '<p><input type="text" name="ic" placeholder="按钮图标（选填）"></input></p>'+
                    '<p><labe>样式</labe></p>'+
                    '<p><select id="co" style="width: 80%"><option value="light">白色</option><option value="info">蓝色</option><option value="dark">深色</option><option value="success">绿色</option><option value="black">黑色</option><option value="warning">黄色</option><option value="primary">紫色</option><option value="danger">红色</option></select>'+
                    '<select id="ty" style="width: 20%"><option value="">矩形</option><option value="round">椭圆形</option></select></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="button_ok">确定</button>'+//按钮
                    '<button type="button" class="btn btn-s" id="button_cancel">取消</button>'+//按钮
                    '</form>'+
                    '</div>'+
                    '</div>');
                $('.wmd-prompt-dialog input').select();

            });


            $(document).on('click', '#wmd-text-button', function() {//标签

                $('body').append(
                    '<div id="textPanel">'+//标签
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>插入高亮引用</b></p>'+
                    '<p><labe>样式</labe></p>'+
                    '<p><select id="type" style="width: 100%"><option value="share">资料灰</option><option value="yellow">提示黄</option><option value="red">警告红</option><option value="blue">信息蓝</option><option value="green">推荐绿</option></select></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="text_ok">确定</button>'+//标签
                    '<button type="button" class="btn btn-s" id="text_cancel">取消</button>'+//标签
                    '</form>'+
                    '</div>'+
                    '</div>');
                $('.wmd-prompt-dialog input').select();

            });


            $(document).on('click', '#wmd-ss-button', function() {//收缩框

                $('body').append(
                    '<div id="ssPanel">'+//收缩框
                    '<div class="wmd-prompt-background" style="position: fixed; top: 0px; z-index: 1000; opacity: 0.5; height: 100%; left: 0px; width: 100%;"></div>'+
                    '<div class="wmd-prompt-dialog">'+
                    '<div>'+
                    '<p><b>插入收缩框</b></p>'+
                    '<p><select id="sst" style="width: 20%"><option value="true">展开</option><option value="false">合上</option></select><input type="text" name="bt" placeholder="标题" style="width: 80%"></input></p>'+
                    '</div>'+
                    '<form>'+
                    '<button type="button" class="btn btn-s primary" id="ss_ok">确定</button>'+//收缩框
                    '<button type="button" class="btn btn-s" id="ss_cancel">取消</button>'+//收缩框
                    '</form>'+
                    '</div>'+
                    '</div>');
                $('.wmd-prompt-dialog input').select();

            });


            /*3. 点击【确定】事件*/
            $(document).on('click', '#wmd-yc1-button', function() {

                textContent = '[hide]这里编辑隐藏文本（评论可见）[/hide]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent);

            });


            $(document).on('click', '#wmd-tab-button', function() {

                textContent = '[tabs]\n' +
                    '[tab name="标签页 1" active="true"]内容 1[/tab]\n' +
                    '[tab name="标签页 2"]内容 2[/tab]\n' +
                    '[/tabs]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent);

            });

            $(document).on('click', '#wmd-album-button', function() {

                textContent = '[album]\n' +
                    '[普通的图片插入，支持markdown语法和html语法，混合也可以]\n' +
                    '[/album]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent);

            });


            $(document).on('click', '#wmd-yc2-button', function() {

                textContent = '[login]这里编辑隐藏文本（登陆可见）[/login]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent);

            });

            /* 代码块 *///肯定
            $(document).on('click','#hplayer_ok',function() {
                //执行一个ajax请求获取解析歌单地址的音频信息
                callback=$.ajax({
                    type:'POST',
                    url: hplayerUrl,
                    data:{data:$('.wmd-prompt-dialog input').val(),size:"large",autoplay:$("#autoplay").is(':checked')},
                    async:false
                });

                myField = document.getElementById('text');
                var textMetingContent = callback.responseText;
                inserContentToTextArea(myField,textMetingContent,'#MetingPanel');

            });

            $(document).on('click','#t_ok',function() {
                //执行一个ajax请求获取解析歌单地址的音频信息
                myField = document.getElementById('text');
                var content = $('.wmd-prompt-dialog textarea').val();
                var color = $('.wmd-prompt-dialog input[name = "color"]').val();
                if (color!=""){
                    color = ' style="color:'+color+'"';
                }
                var insertContent = "";
                if ($("#isCenter").is(':checked')){
                    insertContent = '<p class="center"'+color+'>'+content+'</p>';
                }else{
                    insertContent = '<p'+color+'>'+content+'</p>';
                }

                inserContentToTextArea(myField,insertContent,'#TPanel');

            });


            $(document).on('click','#button_ok',function() {//按钮
//内容
                var textContent = $('.wmd-prompt-dialog input[name="te"]').val();
//颜色
                var obj_co = document.getElementById("co"); //定位id
                var index_co = obj_co.selectedIndex; // 选中索引
                var color = obj_co.options[index_co].value; // 选中值
//形状
                var obj_ty = document.getElementById("ty"); //定位id
                var index_ty = obj_ty.selectedIndex; // 选中索引
                var type = obj_ty.options[index_ty].value; // 选中值
//ICON
                var icon = $('.wmd-prompt-dialog input[name="ic"]').val();
//URL
                var url = $('.wmd-prompt-dialog input[name="url"]').val();
//输出格式
                textContent = '[button color="' + color + '" icon="' + icon + '" url="' + url + '" type="' + type + '"]' + textContent + '[/button]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent,'#buttonPanel');//按钮

            });


            $(document).on('click','#text_ok',function() {//标签

                var obj_ty = document.getElementById("type"); //定位id
                var index_ty = obj_ty.selectedIndex; // 选中索引
                var type = obj_ty.options[index_ty].value; // 选中值
//输出格式
                textContent = '[scode type="' + type + '"]这里编辑标签内容[/scode]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent,'#textPanel');//标签

            });


            $(document).on('click','#ss_ok',function() {//收缩框

                var obj_ty = document.getElementById("sst"); //定位id
                var index_ty = obj_ty.selectedIndex; // 选中索引
                var type = obj_ty.options[index_ty].value; // 选中值
                var t = $('.wmd-prompt-dialog input[name="bt"]').val();
//输出格式
                textContent = '[collapse status="' + type + '" title="' + t + '"]这里编辑收缩框内容[/collapse]';

                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent,'#ssPanel');//收缩框

            });



            $(document).on('click', '#video_ok',function () {
                var textContent = $('.wmd-prompt-dialog input[name="url"]').val();
                var pic = $('.wmd-prompt-dialog input[name="pic"]').val();
                var picHtml = "";
                var reg = new RegExp("\/","g");//g,表示全部替换。
                if (pic !== ""){
                    pic = pic.replace(reg,'\\/');
                    picHtml = 'pic="' + pic + '"';
                }
                textContent=textContent.replace(reg,'\\/');

                textContent = '[vplayer url="' + textContent + '" '+ picHtml +' /]';
                myField = document.getElementById('text');

                inserContentToTextArea(myField,textContent,'#videoPanel');
            })

            $(document).on('click', '#post_ok',function () {
                var cid = 'cid="' + $('.wmd-prompt-dialog input[name = "cid"]').val() + '"';
                var coverValue =$('.wmd-prompt-dialog input[name = "cover"]').val();
                if (coverValue){
                    var reg = new RegExp("\/","g");//g,表示全部替换。
                    coverValue=coverValue.replace(reg,'\\/');
                    var cover = 'cover="' + coverValue + '"';
                }else{
                    var cover ="";
                }

                var textContent = '[post ' + cid + ' ' +cover +'/]';
                myField = document.getElementById('text');
                inserContentToTextArea(myField,textContent,'#postPanel');
            })

            /* 4. 执行区 *///否定
            $(document).on('click','#t_cancel',function() {
                $('#TPanel').remove();
                $('textarea').focus();
            });
            $(document).on('click','#hplayer_cancel',function() {
                $('#MetingPanel').remove();
                $('textarea').focus();
            });
            $(document).on('click','#video_cancel',function() {
                $('#videoPanel').remove();
                $('textarea').focus();
            });
            $(document).on('click','#post_cancel',function() {
                $('#postPanel').remove();
                $('textarea').focus();
            });
            $(document).on('click','#button_cancel',function() {//按钮
                $('#buttonPanel').remove();//按钮
                $('textarea').focus();
            });
            $(document).on('click','#text_cancel',function() {//标签
                $('#textPanel').remove();//标签
                $('textarea').focus();
            });
            $(document).on('click','#ss_cancel',function() {//收缩框
                $('#ssPanel').remove();//收缩框
                $('textarea').focus();
            });


        }
    });

};

//插入内容到编辑器
function inserContentToTextArea(myField,textContent,modelId) {
    $(modelId).remove();
    if (document.selection) {//IE浏览器
        myField.focus();
        var sel = document.selection.createRange();
        sel.text = textContent;
        myField.focus();
    } else if (myField.selectionStart || myField.selectionStart == '0') {
        //FireFox、Chrome
        var startPos = myField.selectionStart;
        var endPos = myField.selectionEnd;
        var cursorPos = startPos;
        myField.value = myField.value.substring(0, startPos)
            + textContent
            + myField.value.substring(endPos, myField.value.length);
        cursorPos += textContent.length;

        myField.selectionStart = cursorPos;
        myField.selectionEnd = cursorPos;
        myField.focus();
    }
    else{//其他环境
        myField.value += textContent;
        myField.focus();
    }

    //开启粘贴上传图片

}


